"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6409],{6409:(x,m,c)=>{c.r(m),c.d(m,{Tab1PageModule:()=>j});var a=c(4742),g=c(177),_=c(4341),S=c(1307),T=c(9858),B=c(1584);const p={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let h;const P=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const y=function O(e,n,r){var o,i,u,d;if(p.randomUUID&&!n&&!e)return p.randomUUID();const l=null!==(o=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(u=(d=e).rng)||void 0===u?void 0:u.call(d))&&void 0!==o?o:function w(){if(!h){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h=crypto.getRandomValues.bind(crypto)}return h(P)}();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,n){if((r=r||0)<0||r+16>n.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let b=0;b<16;++b)n[r+b]=l[b];return n}return function f(e,n=0){return(s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]]).toLowerCase()}(l)};var t=c(4020),M=c(6705);function U(e,n){if(1&e){const r=t.RV6();t.j41(0,"ion-button",14),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.startLeftBoobTimer())}),t.nrm(1,"ion-icon",15),t.k0s()}}function C(e,n){if(1&e){const r=t.RV6();t.j41(0,"ion-button",16),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.pauseLeftBoobTimer())}),t.nrm(1,"ion-icon",17),t.k0s()}}function I(e,n){if(1&e){const r=t.RV6();t.j41(0,"ion-button",18),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.startRightBoobTimer())}),t.nrm(1,"ion-icon",15),t.k0s()}}function k(e,n){if(1&e){const r=t.RV6();t.j41(0,"ion-button",19),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.pauseRightBoobTimer())}),t.nrm(1,"ion-icon",17),t.k0s()}}const v=[{path:"",component:(()=>{var e;class n{constructor(o){this.feedingService=o,this.leftBoobTimerOn=!1,this.rightBoobTimerOn=!1,this.leftBoobAccumulatedSeconds=0,this.leftBoobTotalSeconds=0,this.rightBoobAccumulatedSeconds=0,this.rightBoobTotalSeconds=0}startLeftBoobTimer(){this.initialStartTime||(this.initialStartTime=new Date),this.leftBoobStartTime=new Date,this.leftBoobTimerOn=!0,this.rightBoobTimerOn&&this.pauseRightBoobTimer(),this.startUISubscription()}pauseLeftBoobTimer(){var o;this.leftBoobTimerOn=!1,this.leftBoobAccumulatedSeconds+=this.getSecondsBetween(this.leftBoobStartTime?this.leftBoobStartTime:new Date,new Date),this.leftBoobStartTime=void 0,null===(o=this.uiUpdateSub)||void 0===o||o.unsubscribe(),this.uiUpdateSub=void 0,this.rightBoobTimerOn||(this.endTime=new Date)}startRightBoobTimer(){this.initialStartTime||(this.initialStartTime=new Date),this.rightBoobStartTime=new Date,this.rightBoobTimerOn=!0,this.leftBoobTimerOn&&this.pauseLeftBoobTimer(),this.startUISubscription()}pauseRightBoobTimer(){var o;this.rightBoobTimerOn=!1,this.rightBoobAccumulatedSeconds+=this.getSecondsBetween(this.rightBoobStartTime?this.rightBoobStartTime:new Date,new Date),this.rightBoobStartTime=void 0,null===(o=this.uiUpdateSub)||void 0===o||o.unsubscribe(),this.uiUpdateSub=void 0,this.leftBoobTimerOn||(this.endTime=new Date)}startUISubscription(){this.uiUpdateSub||(this.uiUpdateSub=(0,B.O)(0,1e3).subscribe(()=>this.performUIUpdate()))}performUIUpdate(){this.leftBoobStartTime&&(this.leftBoobTotalSeconds=this.getSecondsBetween(this.leftBoobStartTime,new Date)+this.leftBoobAccumulatedSeconds),this.rightBoobStartTime&&(this.rightBoobTotalSeconds=this.getSecondsBetween(this.rightBoobStartTime,new Date)+this.rightBoobAccumulatedSeconds)}reset(){this.initialStartTime=void 0,this.leftBoobStartTime=void 0,this.rightBoobStartTime=void 0,this.endTime=void 0,this.uiUpdateSub=void 0,this.leftBoobTotalSeconds=0,this.rightBoobTotalSeconds=0,this.leftBoobAccumulatedSeconds=0,this.rightBoobAccumulatedSeconds=0}getSecondsBetween(o,i){return(+i-+o)/1e3}calculateElapsedTime(o,i,u){return this.getSecondsBetween(i||new Date,u)+o}completeFeeding(){const o={id:y(),startTime:this.initialStartTime?this.initialStartTime:new Date,endTime:this.endTime?this.endTime:new Date,leftFeedingElapsedTime:this.leftBoobTotalSeconds,rightFeedingElapsedTime:this.rightBoobTotalSeconds};this.feedingService.insertFeedingRecord(o).then(()=>console.log("Inserted new record",o)).catch(i=>console.error("Failed to insert record",i)),this.initialStartTime=void 0,this.leftBoobStartTime=void 0,this.rightBoobStartTime=void 0,this.endTime=void 0,this.leftBoobAccumulatedSeconds=0,this.leftBoobTotalSeconds=0,this.rightBoobAccumulatedSeconds=0,this.rightBoobTotalSeconds=0}}return(e=n).\u0275fac=function(o){return new(o||e)(t.rXU(M.e))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tab1"]],standalone:!1,decls:47,vars:24,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-justify-content-center","time-text"],[1,"ion-justify-content-center","time-buttons"],["id","left-boob-button-play","class","circle-button","shape","round","size","large",3,"click",4,"ngIf"],["id","left-boob-button-pause","class","circle-button pause-button","shape","round","size","large",3,"click",4,"ngIf"],["id","right-boob-button-play","class","circle-button","shape","round","size","large",3,"click",4,"ngIf"],["id","right-boob-button-pause","class","circle-button pause-button","shape","round","size","large",3,"click",4,"ngIf"],[1,"time-text"],["id","complete-button",3,"click","disabled"],["id","reset-button",3,"click","disabled"],["name","refresh-outline"],["id","left-boob-button-play","shape","round","size","large",1,"circle-button",3,"click"],["name","play-outline"],["id","left-boob-button-pause","shape","round","size","large",1,"circle-button","pause-button",3,"click"],["name","pause-outline"],["id","right-boob-button-play","shape","round","size","large",1,"circle-button",3,"click"],["id","right-boob-button-pause","shape","round","size","large",1,"circle-button","pause-button",3,"click"]],template:function(o,i){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Feeding Tracker "),t.k0s()()(),t.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t.EFF(8,"Feeding"),t.k0s()()(),t.j41(9,"ion-grid")(10,"ion-row",4)(11,"ion-text"),t.EFF(12,"Start Time:"),t.k0s()(),t.j41(13,"ion-row",4)(14,"ion-text"),t.EFF(15),t.nI1(16,"date"),t.k0s()(),t.j41(17,"ion-row",5)(18,"ion-col"),t.DNE(19,U,2,0,"ion-button",6)(20,C,2,0,"ion-button",7),t.k0s(),t.j41(21,"ion-col"),t.DNE(22,I,2,0,"ion-button",8)(23,k,2,0,"ion-button",9),t.k0s()(),t.j41(24,"ion-row",10)(25,"ion-col")(26,"ion-text"),t.EFF(27),t.nI1(28,"date"),t.k0s()(),t.j41(29,"ion-col")(30,"ion-text"),t.EFF(31),t.nI1(32,"date"),t.k0s()()(),t.j41(33,"ion-row",4)(34,"ion-text"),t.EFF(35,"Finish Time:"),t.k0s()(),t.j41(36,"ion-row",4)(37,"ion-text"),t.EFF(38),t.nI1(39,"date"),t.k0s()()()(),t.j41(40,"ion-footer")(41,"ion-grid")(42,"ion-row")(43,"ion-button",11),t.bIt("click",function(){return i.completeFeeding()}),t.EFF(44,"Save"),t.k0s(),t.j41(45,"ion-button",12),t.bIt("click",function(){return i.reset()}),t.nrm(46,"ion-icon",13),t.k0s()()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(11),t.JRh(t.i5U(16,12,i.initialStartTime,"medium")),t.R7$(4),t.Y8G("ngIf",!i.leftBoobTimerOn),t.R7$(),t.Y8G("ngIf",i.leftBoobTimerOn),t.R7$(2),t.Y8G("ngIf",!i.rightBoobTimerOn),t.R7$(),t.Y8G("ngIf",i.rightBoobTimerOn),t.R7$(4),t.SpI(" ",t.i5U(28,15,1e3*i.leftBoobTotalSeconds,"mm:ss")," "),t.R7$(4),t.SpI(" ",t.i5U(32,18,1e3*i.rightBoobTotalSeconds,"mm:ss")," "),t.R7$(7),t.JRh(t.i5U(39,21,i.endTime,"medium")),t.R7$(5),t.Y8G("disabled",!i.endTime),t.R7$(2),t.Y8G("disabled",!i.endTime))},dependencies:[a.Jm,a.hU,a.W9,a.M0,a.lO,a.eU,a.iq,a.ln,a.IO,a.BC,a.ai,g.bT,g.vh],styles:["ion-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}ion-text[_ngcontent-%COMP%]{font-size:24px}ion-grid[_ngcontent-%COMP%]{height:100%;display:flex;flex-flow:column;flex-grow:1;justify-content:center}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{flex:.25;text-align:center}ion-grid[_ngcontent-%COMP%]   ion-row.time-text[_ngcontent-%COMP%]{flex:.1}ion-grid[_ngcontent-%COMP%]   ion-row.time-buttons[_ngcontent-%COMP%]{align-items:center}ion-grid[_ngcontent-%COMP%]   ion-row.time-buttons[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}ion-grid[_ngcontent-%COMP%]   ion-row.time-buttons[_ngcontent-%COMP%]   ion-button.circle-button[_ngcontent-%COMP%]{--border-radius: 50%;--padding-start: 0;--padding-end: 0;width:120px;height:120px}ion-grid[_ngcontent-%COMP%]   ion-row.time-buttons[_ngcontent-%COMP%]   ion-button.circle-button[_ngcontent-%COMP%]::part(native){display:flex;align-items:center;justify-content:center;width:120px;height:120px}ion-grid[_ngcontent-%COMP%]   ion-row.time-buttons[_ngcontent-%COMP%]   ion-button.circle-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px}ion-grid[_ngcontent-%COMP%]   ion-row.time-buttons[_ngcontent-%COMP%]   .pause-button[_ngcontent-%COMP%]{width:150px;height:150px;opacity:.6}ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row;position:relative}ion-footer[_ngcontent-%COMP%]   #complete-button[_ngcontent-%COMP%]{width:10rem;position:absolute;left:50%;transform:translate(-50%)}ion-footer[_ngcontent-%COMP%]   #reset-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:1rem;--background: #cb416b}"]}),n})()}];let R=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[T.iI.forChild(v),T.iI]}),n})(),j=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[a.bv,g.MD,_.YN,S.S,R]}),n})()}}]);